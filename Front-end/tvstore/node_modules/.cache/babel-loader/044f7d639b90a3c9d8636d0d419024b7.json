{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _getCurrentHref = _interopRequireDefault(require(\"./utils/getCurrentHref\"));\n\nvar _clearUndefinedProperties = _interopRequireDefault(require(\"./utils/clearUndefinedProperties\"));\n\nvar _Process = _interopRequireDefault(require(\"./Process\"));\n\nvar Feed = /*#__PURE__*/function (_Component) {\n  (0, _inheritsLoose2.default)(Feed, _Component);\n\n  function Feed() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"handleClick\", function _callee2(evn) {\n      var handleProcess;\n      return _regenerator.default.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              evn.preventDefault();\n              handleProcess = _this.props.handleProcess;\n              return _context2.abrupt(\"return\", handleProcess(function _callee(api) {\n                var _this$props, _this$props$link, link, display, _this$props$appId, appId, redirectURI, from, to, picture, source, name, caption, description, dataRef;\n\n                return _regenerator.default.async(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _this$props = _this.props, _this$props$link = _this$props.link, link = _this$props$link === void 0 ? (0, _getCurrentHref.default)() : _this$props$link, display = _this$props.display, _this$props$appId = _this$props.appId, appId = _this$props$appId === void 0 ? api.getAppId() : _this$props$appId, redirectURI = _this$props.redirectURI, from = _this$props.from, to = _this$props.to, picture = _this$props.picture, source = _this$props.source, name = _this$props.name, caption = _this$props.caption, description = _this$props.description, dataRef = _this$props.dataRef;\n                        return _context.abrupt(\"return\", api.ui((0, _clearUndefinedProperties.default)({\n                          method: 'feed',\n                          link: link,\n                          display: display,\n                          app_id: appId,\n                          redirect_uri: redirectURI,\n                          from: from,\n                          to: to,\n                          picture: picture,\n                          source: source,\n                          name: name,\n                          caption: caption,\n                          description: description,\n                          ref: dataRef\n                        })));\n\n                      case 2:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                });\n              }));\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      });\n    });\n    return _this;\n  }\n\n  var _proto = Feed.prototype;\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        children = _this$props2.children,\n        loading = _this$props2.loading,\n        error = _this$props2.error,\n        data = _this$props2.data;\n    return children({\n      loading: loading,\n      handleClick: this.handleClick,\n      error: error,\n      data: data\n    });\n  };\n\n  return Feed;\n}(_react.Component);\n\n(0, _defineProperty2.default)(Feed, \"defaultProps\", {\n  link: undefined,\n  display: undefined,\n  appId: undefined,\n  redirectURI: undefined,\n  from: undefined,\n  to: undefined,\n  source: undefined,\n  picture: undefined,\n  name: undefined,\n  caption: undefined,\n  description: undefined,\n  dataRef: undefined\n});\n\nvar _default = (0, _react.forwardRef)(function (props, ref) {\n  return _react.default.createElement(_Process.default, null, function (_ref) {\n    var loading = _ref.loading,\n        handleProcess = _ref.handleProcess,\n        error = _ref.error,\n        data = _ref.data;\n    return _react.default.createElement(Feed, (0, _extends2.default)({}, props, {\n      loading: loading,\n      handleProcess: handleProcess,\n      data: data,\n      error: error,\n      ref: ref\n    }));\n  });\n});\n\nexports.default = _default;","map":{"version":3,"sources":["../src/Feed.jsx"],"names":["Feed","Component","link","display","appId","redirectURI","from","to","source","picture","name","caption","description","dataRef","undefined","evn","handleProcess","api","method","app_id","redirect_uri","ref","render","children","loading","error","data","handleClick"],"mappings":"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","sourcesContent":["// @flow\nimport React, { Component, forwardRef } from 'react';\nimport getCurrentHref from './utils/getCurrentHref';\nimport clearUndefinedProperties from './utils/clearUndefinedProperties';\nimport Process from './Process';\n\ntype Props = {\n  children: Function,\n  loading: boolean,\n  handleProcess: Function,\n  data: any,\n  error: Error,\n  appId?: string,\n  redirectURI?: string,\n  display?: string,\n  from?: string,\n  to?: string,\n  link?: string,\n  source?: string,\n  picture?: string, // deprecated\n  name?: string, // deprecated\n  caption?: string, // deprecated\n  description?: string, // deprecated\n  dataRef?: string,\n};\n\nclass Feed extends Component<Props> {\n  static defaultProps = {\n    link: undefined,\n    display: undefined,\n    appId: undefined,\n    redirectURI: undefined,\n    from: undefined,\n    to: undefined,\n    source: undefined,\n    picture: undefined,\n    name: undefined,\n    caption: undefined,\n    description: undefined,\n    dataRef: undefined,\n  };\n\n  handleClick = async (evn) => {\n    evn.preventDefault();\n\n    const { handleProcess } = this.props;\n\n    return handleProcess(async (api) => {\n      const {\n        link = getCurrentHref(),\n        display,\n        appId = api.getAppId(),\n        redirectURI,\n        from,\n        to,\n        picture,\n        source,\n        name,\n        caption,\n        description,\n        dataRef,\n      } = this.props;\n\n      return api.ui(clearUndefinedProperties({\n        method: 'feed',\n        link,\n        display,\n        app_id: appId,\n        redirect_uri: redirectURI,\n        from,\n        to,\n        picture,\n        source,\n        name,\n        caption,\n        description,\n        ref: dataRef,\n      }));\n    });\n  }\n\n  render() {\n    const {\n      children, loading, error, data,\n    } = this.props;\n\n    return children({\n      loading,\n      handleClick: this.handleClick,\n      error,\n      data,\n    });\n  }\n}\n\nexport default forwardRef((props, ref) => (\n  <Process>\n    {({\n      loading, handleProcess, error, data,\n    }) => (\n      <Feed\n        {...props}\n        loading={loading}\n        handleProcess={handleProcess}\n        data={data}\n        error={error}\n        ref={ref}\n      />\n    )}\n  </Process>\n));\n"]},"metadata":{},"sourceType":"script"}